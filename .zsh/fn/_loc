#compdef loc

_loc() {
  _arguments \
    '1: :->commands'

  case "$state" in
    commands)
      cmds=($(printenv | grep '^LOC_CMD_' | sed 's/^LOC_CMD_//' | sed 's/=.*//' | sed 's/.*/\L&/'))
      if [[ "${#cmds[@]}" != 0 ]]; then
        _values 'commands' "${cmds[@]}"
      fi
      ;;
  esac
}
