function cd() {
  local target

  if [[ "$#" != 0 ]]; then
    builtin cd "$@" || return
    return
  fi

  if ! hascommand fzf; then
    echo 'Command not found: fzf'
    return 1
  fi

  target="$(find -L . -maxdepth 1 -type d | fzf)" || return

  if [[ "$target" != '' ]]; then
    cd "$target" || return
  fi
}
