function cd() {
  local target

  if [[ "$#" != 0 ]]; then
    builtin cd "$@" || return
    return
  fi

  if ! hascommand fzf; then
    echo 'Command not found: fzf' 1>&2
    return 1
  fi

  if ! hascommand fd; then
    echo 'Command not found: fd' 1>&2
    return 1
  fi

  target="$(fd -L . --exact-depth 1 -t d | sort -V | fzf)" || return

  if [[ "$target" != '' ]]; then
    cd "$target" || return
  fi
}
